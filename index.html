<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="apple-touch-icon" sizes="180x180" href="asset/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="asset/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="asset/favicon/favicon-16x16.png">
    <link rel="manifest" href="asset/favicon/site.webmanifest">
    <style>
        canvas.vrm {
            position: absolute;
            top: 0%;
            left: 0%;
            z-index: -1;
        }
        div.layoutbox {
            position: absolute;
            top: 5px;
            left: 7px;
            z-index: 3;
        }
        text.systembox {
            color: #FFFFFF00;
            position: absolute;
            top: 5px;
            left: 50px;
            font-family: verdana;
            font-size: 28px;
            cursor: pointer;
            user-select: none;
        }
    </style>
</head>
<body>
    <!-- layout -->
    <canvas class="vrm" id="canvas"></canvas>
    <div class="w3-sidebar w3-animate-left" style="width:280px;background-color:#0008;display:none" id="thesidebar">
        <div class="w3-bar-item" style="height:60px;color:#0000"> . </div>
        <br/>
        <button onclick="document.getElementById('vrmbtn').click();" class="w3-button w3-block w3-left-align w3-text-white">Upload Model</button>
        <input type="file" id="vrmbtn" style="display: none;" />
        <button onclick="hideObj('dbg')" class="w3-button w3-block w3-left-align w3-text-white">Debug Video</button>
        <canvas class="w3-bar-item w3-hide" id="dbg"></canvas>
        <button onclick="hideObj('constbox')" class="w3-button w3-block w3-left-align w3-text-white">Setting</button>
        <div class="w3-bar-item w3-margin w3-hide" id="constbox"></div>
        <button onclick="hideObj('logbox')" class="w3-button w3-block w3-left-align w3-text-white">Parameters</button>
        <div class="w3-bar-item w3-margin" id="logbox"></div>
        <button onclick="hideObj('about')" class="w3-button w3-block w3-left-align w3-text-white">About</button>
        <div class="w3-bar-item w3-margin w3-hide" id="about"></div>
    </div>
    <div class="layoutbox" id="layoutbox">
        <div id="system">
            <img id="systemimg" src="asset/favicon/favicon-32x32.png" style="height:50px;cursor:pointer"/>
            <text class="systembox" id="systemtext"> OpenLive3D </text>
        </div>
    </div>
    <!-- tf.js dependencies -->
    <script src="https://unpkg.com/@tensorflow/tfjs-core@3.13.0/dist/tf-core.min.js"></script>
    <script src="https://unpkg.com/@tensorflow/tfjs-backend-webgl@3.13.0/dist/tf-backend-webgl.min.js"></script>
    <script src="https://unpkg.com/@tensorflow/tfjs-converter@3.13.0/dist/tf-converter.min.js"></script>
    <script src="https://unpkg.com/@tensorflow-models/face-landmarks-detection@0.0.3"></script>
    <!-- three-vrm dependencies -->
    <script src="https://unpkg.com/three@0.136.0/build/three.js"></script>
    <script src="https://unpkg.com/three@0.136.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://unpkg.com/three@0.136.0/examples/js/controls/OrbitControls.js"></script>
    <script src="lib/js/vrm/three-vrm.min.js"></script>
    <!-- local dependencies -->
    <script src="src/js/config/config-manager.js"></script>
    <script src="src/js/media/media-manager.js"></script>
    <script src="src/js/gui/gui-layout.js"></script>
    <script src="src/js/landmark/facekey.js"></script>
    <script src="src/js/landmark/landmark-manager.js"></script>
    <script src="src/js/model/model-manager.js"></script>
    <script src="src/js/control/control-manager.js"></script>
    <script>

// start camera, load resources, link things
initialize();

// kick off the rendering loop!
loop();

    </script>
</body>
</html>